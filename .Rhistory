plot_intro(df_eda)
plot_missing(df_eda)
#clean name of df_eda
library(janitor)
df_eda = clean_names(df_eda)
knitr::opts_chunk$set(echo = TRUE)
# incorporate tweet volume data prepared by Huy
rm(list=ls())
install.packages(c("devtools"))
devtools::install_github("ldurazo/kaggler")
knitr::opts_chunk$set(echo = TRUE)
#install.packages(c("zoo","xts","TTR","quantmod","tidytext","textdata","rvest"))
library(tidyverse)
library(lubridate)
library(tidytext)
library(textdata)
library(rvest)
#install.packages(c("zoo","xts","TTR","quantmod","tidytext","textdata","rvest"))
library(tidyverse)
library(lubridate)
library(tidytext)
library(textdata)
library(rvest)
path = "https://bitinfocharts.com/comparison/decred-tweets.html#1y"
scripts <- read_html(path, encoding = 'utf8') %>%
html_nodes("script") %>% html_text(trim=TRUE)
# filter special characters, get date and tweet volume only
text <- scripts[5]
new <- strsplit(text, '\\[\\[')[[1]][[2]]
new2 <- strsplit(new, '\\]\\]')[[1]][[1]]
new3 <- str_replace_all(new2, 'new Date\\(', '')  %>%
str_replace_all('\\[', '') %>%
str_replace_all('"', '') %>%
str_replace_all('\\]', '') %>%
str_replace_all('\\)', '')
new4 <- strsplit(new3, ',')
# convert list of list into dataframe. Sample input ['2020/05/09',59,...]
table <- as.data.frame(unlist(new4))
# dataframe now contains only 1 columns, subsetting odd and even rows to split into 2 columns
tweet_volume =  data.frame(date = table[c(TRUE,FALSE),], tweet_count = table[c(FALSE,TRUE),])
# tweet counts is reported as thousands of tweet, here convert it to normal number
tweet_volume$tweet_count <- as.numeric(tweet_volume$tweet_count)*1000
tweet_volume$date <- as_date(tweet_volume$date)
write.csv(tweet_volume,"tweet_volume.csv") #in case failed to download the data
library(zoo)
library(xts)
library(TTR)
library(quantmod)
coin_portfolio=c("BTC-USD","ETH-USD","ADA-USD",
"DOGE-USD","SHIB-USD")
index_portfolio=c("^DJI","^IXIC","^GSPC","GC=F")
stock_portfolio=c("TSLA","GOOG","AAPL","NVDA","AMD","TSM")
data <- getSymbols(c(coin_portfolio,
index_portfolio,
stock_portfolio),
src='yahoo',
#from=dyear,
#to=d,
autoassign=FALSE)
df_BTC = data.frame(date=index(`BTC-USD`), coredata(`BTC-USD`))
df_TSLA = data.frame(date=index(TSLA), coredata(TSLA))
# coins
df_ETH = data.frame(date=index(`ETH-USD`), coredata(`ETH-USD`))
df_ADA = data.frame(date=index(`ADA-USD`), coredata(`ADA-USD`))
df_DOGE = data.frame(date=index(`DOGE-USD`), coredata(`DOGE-USD`))
df_SHIB = data.frame(date=index(`SHIB-USD`), coredata(`SHIB-USD`))
# indices
df_DJI = data.frame(date=index(DJI), coredata(DJI))
df_IXIC = data.frame(date=index(IXIC), coredata(IXIC))
df_GSPC = data.frame(date=index(GSPC), coredata(GSPC))
df_GOLD = data.frame(date=index(`GC=F`), coredata(`GC=F`))
# stock
df_GOOG = data.frame(date=index(GOOG), coredata(GOOG))
df_AAPL = data.frame(date=index(AAPL), coredata(AAPL))
df_NVDA = data.frame(date=index(NVDA), coredata(NVDA))
df_AMD = data.frame(date=index(AMD), coredata(AMD))
df_TSM = data.frame(date=index(TSM), coredata(TSM))
# tweet
df_tweet = tweet_volume
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE, suffixes = c(".Close"))
View(df_eda)
View(df_eda)
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ETH, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ADA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DOGE, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_SHIB, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DJI, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_IXIC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GSPC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOLD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOOG, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AAPL, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_NVDA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AMD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_TSM, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_tweet, by = 'date', all.x = TRUE)
View(df_eda)
View(df_eda)
names(df_eda)
str(df_eda)
# merge all data into one dataset
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ETH, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ADA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DOGE, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_SHIB, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DJI, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_IXIC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GSPC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOLD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOOG, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AAPL, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_NVDA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AMD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_TSM, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_tweet, by = 'date', all.x = TRUE)
df_eda <- df_eda[1,5,11,17,23,29,35,41,47,53,59,65,71,77,83,89]
# merge all data into one dataset
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ETH, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ADA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DOGE, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_SHIB, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DJI, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_IXIC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GSPC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOLD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOOG, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AAPL, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_NVDA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AMD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_TSM, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_tweet, by = 'date', all.x = TRUE)
df_eda <- df_eda[,c([1,5,11,17,23,29,35,41,47,53,59,65,71,77,83,89)]
# merge all data into one dataset
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ETH, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ADA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DOGE, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_SHIB, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DJI, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_IXIC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GSPC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOLD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOOG, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AAPL, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_NVDA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AMD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_TSM, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_tweet, by = 'date', all.x = TRUE)
df_eda <- df_eda[,c(1,5,11,17,23,29,35,41,47,53,59,65,71,77,83,89)]
names(df_eda)
str(df_eda)
library(DataExplorer)
introduce(df_eda)
plot_intro(df_eda)
plot_missing(df_eda)
library(DataExplorer)
str(df_eda)
introduce(df_eda)
plot_intro(df_eda)
plot_missing(df_eda)
#drop df_SHIB due high missing
drop = c("SHIB.USD.Close")
df_eda <- df_eda %>%
select(-one_of(drop))
#drop df_SHIB due high missing
drop = c("SHIB.USD.Close")
df_eda <- df_eda %>%
select(-one_of(drop))
plot_intro(df_eda)
#drop df_SHIB due high missing
drop = c("SHIB.USD.Close")
df_eda <- df_eda %>%
select(-one_of(drop))
plot_intro(df_eda)
plot_missing(df_eda)
View(df_tweet)
# merge all data into one dataset
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ETH, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ADA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DOGE, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_SHIB, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DJI, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_IXIC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GSPC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOLD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOOG, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AAPL, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_NVDA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AMD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_TSM, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_tweet, by = 'date', all.x = TRUE)
df_eda <- df_eda[,c(1,5,11,17,23,29,35,41,47,53,59,65,71,77,83,89)]
View(df_eda)
View(df_eda)
# merge all data into one dataset
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ETH, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ADA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DOGE, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_SHIB, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DJI, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_IXIC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GSPC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOLD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOOG, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AAPL, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_NVDA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AMD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_TSM, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_tweet, by = 'date', all.x = TRUE)
df_eda <- df_eda[,c(1,5,11,17,23,29,35,41,47,53,59,65,71,77,83,89,92)]
View(df_eda)
View(df_eda)
library(DataExplorer)
str(df_eda)
introduce(df_eda)
plot_intro(df_eda)
plot_missing(df_eda)
#drop df_SHIB due high missing
drop = c("SHIB.USD.Close")
df_eda <- df_eda %>%
select(-one_of(drop))
plot_intro(df_eda)
plot_missing(df_eda)
#drop df_SHIB due high missing
min(df_ADA$date)
#drop df_SHIB due high missing
min(df_ADA$date)
min(df_tweet)
#drop df_SHIB due high missing
min(df_ADA$date)
min(df_tweet$date)
#drop df_SHIB due high missing
min(df_ADA$date) # ADA has been publicly listed since 2017-10-1
min(df_tweet$date) # Data soucred from Kaggles is more complete after 2019-01-01
# subset the data from 2019-0-01
df_eda = subset(df_eda, date >'2018-12-31')
#drop df_SHIB due high missing
min(df_ADA$date) # ADA has been publicly listed since 2017-10-1
min(df_tweet$date) # Data soucred from Kaggles is more complete after 2019-01-01
# subset the data from 2019-0-01
df_eda = subset(df_eda, date >'2018-12-31')
plot_intro(df_eda)
plot_missing(df_eda)
plot_bar(df_eda)
plot_histogram(df_eda)
plot_qq(df_eda)
plot_correlation(na.omit(df_eda),type="c")
plot_correlation(na.omit(df_eda),type="c")
plot_correlation(na.omit(df_eda),type="d")
#plot_correlation(na.omit(df_eda),type="c")
plot_correlation(na.omit(df_eda),type="d")
#plot_correlation(na.omit(df_eda),type="a")
#plot_correlation(na.omit(df_eda),type="b")
#plot_correlation(na.omit(df_eda),type="c")
#plot_correlation(na.omit(df_eda),type="d")
plot_correlation(na.omit(df_eda),type="a")
#plot_correlation(na.omit(df_eda),type="b")
#plot_correlation(na.omit(df_eda),type="c")
#plot_correlation(na.omit(df_eda),type="d")
#plot_correlation(na.omit(df_eda),type="a")
plot_correlation(na.omit(df_eda),type="b")
plot_correlation(na.omit(df_eda),type="c")
plot_boxplot(df_eda)
plot_boxplot(df_eda, by"BTC.USD.Close")
plot_boxplot(df_eda, by="BTC.USD.Close")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
# incorporate tweet volume data prepared by Huy
rm(list=ls())
install.packages(c("devtools"))
devtools::install_github("ldurazo/kaggler")
install.packages(c("devtools"))
install.packages(c("devtools"))
knitr::opts_chunk$set(echo = TRUE)
#install.packages(c("zoo","xts","TTR","quantmod","tidytext","textdata","rvest"))
library(tidyverse)
library(lubridate)
library(tidytext)
library(textdata)
library(rvest)
#install.packages(c("zoo","xts","TTR","quantmod","tidytext","textdata","rvest"))
library(tidyverse)
library(lubridate)
library(tidytext)
library(textdata)
library(rvest)
path = "https://bitinfocharts.com/comparison/decred-tweets.html#1y"
scripts <- read_html(path, encoding = 'utf8') %>%
html_nodes("script") %>% html_text(trim=TRUE)
# filter special characters, get date and tweet volume only
text <- scripts[5]
new <- strsplit(text, '\\[\\[')[[1]][[2]]
new2 <- strsplit(new, '\\]\\]')[[1]][[1]]
new3 <- str_replace_all(new2, 'new Date\\(', '')  %>%
str_replace_all('\\[', '') %>%
str_replace_all('"', '') %>%
str_replace_all('\\]', '') %>%
str_replace_all('\\)', '')
new4 <- strsplit(new3, ',')
# convert list of list into dataframe. Sample input ['2020/05/09',59,...]
table <- as.data.frame(unlist(new4))
# dataframe now contains only 1 columns, subsetting odd and even rows to split into 2 columns
tweet_volume =  data.frame(date = table[c(TRUE,FALSE),], tweet_count = table[c(FALSE,TRUE),])
# tweet counts is reported as thousands of tweet, here convert it to normal number
tweet_volume$tweet_count <- as.numeric(tweet_volume$tweet_count)*1000
tweet_volume$date <- as_date(tweet_volume$date)
write.csv(tweet_volume,"tweet_volume.csv") #in case failed to download the data
library(zoo)
library(xts)
library(TTR)
library(quantmod)
coin_portfolio=c("BTC-USD","ETH-USD","ADA-USD",
"DOGE-USD","SHIB-USD")
index_portfolio=c("^DJI","^IXIC","^GSPC","GC=F")
stock_portfolio=c("TSLA","GOOG","AAPL","NVDA","AMD","TSM")
data <- getSymbols(c(coin_portfolio,
index_portfolio,
stock_portfolio),
src='yahoo',
#from=dyear,
#to=d,
autoassign=FALSE)
df_BTC = data.frame(date=index(`BTC-USD`), coredata(`BTC-USD`))
df_TSLA = data.frame(date=index(TSLA), coredata(TSLA))
# coins
df_ETH = data.frame(date=index(`ETH-USD`), coredata(`ETH-USD`))
df_ADA = data.frame(date=index(`ADA-USD`), coredata(`ADA-USD`))
df_DOGE = data.frame(date=index(`DOGE-USD`), coredata(`DOGE-USD`))
df_SHIB = data.frame(date=index(`SHIB-USD`), coredata(`SHIB-USD`))
# indices
df_DJI = data.frame(date=index(DJI), coredata(DJI))
df_IXIC = data.frame(date=index(IXIC), coredata(IXIC))
df_GSPC = data.frame(date=index(GSPC), coredata(GSPC))
df_GOLD = data.frame(date=index(`GC=F`), coredata(`GC=F`))
# stock
df_GOOG = data.frame(date=index(GOOG), coredata(GOOG))
df_AAPL = data.frame(date=index(AAPL), coredata(AAPL))
df_NVDA = data.frame(date=index(NVDA), coredata(NVDA))
df_AMD = data.frame(date=index(AMD), coredata(AMD))
df_TSM = data.frame(date=index(TSM), coredata(TSM))
# tweet
df_tweet = tweet_volume
library(DataExplorer)
str(df_eda)
# merge all data into one dataset
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ETH, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ADA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DOGE, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_SHIB, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DJI, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_IXIC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GSPC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOLD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOOG, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AAPL, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_NVDA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AMD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_TSM, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_tweet, by = 'date', all.x = TRUE)
df_eda <- df_eda[,c(1,5,11,17,23,29,35,41,47,53,59,65,71,77,83,89,92)]
library(DataExplorer)
str(df_eda)
introduce(df_eda)
plot_intro(df_eda)
plot_missing(df_eda)
df_BTC = data.frame(date=index(`BTC-USD`), coredata(`BTC-USD`))
df_TSLA = data.frame(date=index(TSLA), coredata(TSLA))
# coins
df_ETH = data.frame(date=index(`ETH-USD`), coredata(`ETH-USD`))
df_ADA = data.frame(date=index(`ADA-USD`), coredata(`ADA-USD`))
df_DOGE = data.frame(date=index(`DOGE-USD`), coredata(`DOGE-USD`))
df_SHIB = data.frame(date=index(`SHIB-USD`), coredata(`SHIB-USD`))
# indices
df_DJI = data.frame(date=index(DJI), coredata(DJI))
df_IXIC = data.frame(date=index(IXIC), coredata(IXIC))
df_GSPC = data.frame(date=index(GSPC), coredata(GSPC))
df_GOLD = data.frame(date=index(`GC=F`), coredata(`GC=F`))
# stock
df_GOOG = data.frame(date=index(GOOG), coredata(GOOG))
df_AAPL = data.frame(date=index(AAPL), coredata(AAPL))
df_NVDA = data.frame(date=index(NVDA), coredata(NVDA))
df_AMD = data.frame(date=index(AMD), coredata(AMD))
df_TSM = data.frame(date=index(TSM), coredata(TSM))
# tweet
df_tweet = tweet_volume
# merge all data into one dataset
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ETH, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ADA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DOGE, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_SHIB, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DJI, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_IXIC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GSPC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOLD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOOG, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AAPL, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_NVDA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AMD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_TSM, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_tweet, by = 'date', all.x = TRUE)
df_eda <- df_eda[,c(1,5,11,17,23,29,35,41,47,53,59,65,71,77,83,89,92)]
rm(list=ls())
install.packages(c("devtools"))
devtools::install_github("ldurazo/kaggler")
install.packages(c("devtools"))
install.packages(c("devtools"))
library(tidyverse)
library(lubridate)
library(tidytext)
library(textdata)
library(rvest)
path = "https://bitinfocharts.com/comparison/decred-tweets.html#1y"
scripts <- read_html(path, encoding = 'utf8') %>%
html_nodes("script") %>% html_text(trim=TRUE)
# filter special characters, get date and tweet volume only
text <- scripts[5]
new <- strsplit(text, '\\[\\[')[[1]][[2]]
new2 <- strsplit(new, '\\]\\]')[[1]][[1]]
new3 <- str_replace_all(new2, 'new Date\\(', '')  %>%
str_replace_all('\\[', '') %>%
str_replace_all('"', '') %>%
str_replace_all('\\]', '') %>%
str_replace_all('\\)', '')
new4 <- strsplit(new3, ',')
# convert list of list into dataframe. Sample input ['2020/05/09',59,...]
table <- as.data.frame(unlist(new4))
# dataframe now contains only 1 columns, subsetting odd and even rows to split into 2 columns
tweet_volume =  data.frame(date = table[c(TRUE,FALSE),], tweet_count = table[c(FALSE,TRUE),])
# tweet counts is reported as thousands of tweet, here convert it to normal number
tweet_volume$tweet_count <- as.numeric(tweet_volume$tweet_count)*1000
tweet_volume$date <- as_date(tweet_volume$date)
library(zoo)
library(xts)
library(TTR)
library(quantmod)
coin_portfolio=c("BTC-USD","ETH-USD","ADA-USD",
"DOGE-USD","SHIB-USD")
index_portfolio=c("^DJI","^IXIC","^GSPC","GC=F")
stock_portfolio=c("TSLA","GOOG","AAPL","NVDA","AMD","TSM")
data <- getSymbols(c(coin_portfolio,
index_portfolio,
stock_portfolio),
src='yahoo',
#from=dyear,
#to=d,
autoassign=FALSE)
df_BTC = data.frame(date=index(`BTC-USD`), coredata(`BTC-USD`))
df_TSLA = data.frame(date=index(TSLA), coredata(TSLA))
# coins
df_ETH = data.frame(date=index(`ETH-USD`), coredata(`ETH-USD`))
df_ADA = data.frame(date=index(`ADA-USD`), coredata(`ADA-USD`))
df_DOGE = data.frame(date=index(`DOGE-USD`), coredata(`DOGE-USD`))
df_SHIB = data.frame(date=index(`SHIB-USD`), coredata(`SHIB-USD`))
# indices
df_DJI = data.frame(date=index(DJI), coredata(DJI))
df_IXIC = data.frame(date=index(IXIC), coredata(IXIC))
df_GSPC = data.frame(date=index(GSPC), coredata(GSPC))
df_GOLD = data.frame(date=index(`GC=F`), coredata(`GC=F`))
# stock
df_GOOG = data.frame(date=index(GOOG), coredata(GOOG))
df_AAPL = data.frame(date=index(AAPL), coredata(AAPL))
df_NVDA = data.frame(date=index(NVDA), coredata(NVDA))
df_AMD = data.frame(date=index(AMD), coredata(AMD))
df_TSM = data.frame(date=index(TSM), coredata(TSM))
# tweet
df_tweet = tweet_volume
df_eda <- merge(df_BTC, df_TSLA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ETH, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_ADA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DOGE, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_SHIB, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_DJI, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_IXIC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GSPC, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOLD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_GOOG, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AAPL, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_NVDA, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_AMD, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_TSM, by = 'date', all.x = TRUE)
df_eda <- merge(df_eda, df_tweet, by = 'date', all.x = TRUE)
df_eda <- df_eda[,c(1,5,11,17,23,29,35,41,47,53,59,65,71,77,83,89,92)]
library(DataExplorer)
str(df_eda)
introduce(df_eda)
plot_intro(df_eda)
plot_missing(df_eda)
introduce(df_eda)
plot_intro(df_eda)
plot_missing(df_eda)
library(DataExplorer)
str(df_eda)
introduce(df_eda)
plot_intro(df_eda)
plot_missing(df_eda)
plot_intro(df_eda)
plot_missing(df_eda)
#drop df_SHIB due high missing
min(df_ADA$date) # ADA has been publicly listed since 2017-10-1
min(df_tweet$date) # Data soucred from Kaggles is more complete after 2019-01-01
# subset the data from 2019-0-01
df_eda = subset(df_eda, date >'2018-12-31')
plot_intro(df_eda)
plot_missing(df_eda)
plot_boxplot(df_eda, by="BTC.USD.Close")
